import { ShowcaseExample } from './types';

export const textAnimationExample: ShowcaseExample = {
  id: 'text-animation',
  title: 'Text Animation',
  description: 'Animate text with rainbow effects, pulsing, rotation, and wave effects',
  category: 'animation',
  code: `import { init } from '@thorvg/canvas-kit';

const TVG = await init({
  renderer: 'gl',
  locateFile: (path) => '/canvas-kit/' + path.split('/').pop()
});

const canvas = new TVG.Canvas('#canvas', {
  width: 600,
  height: 600,
  renderer: 'gl'
});

let time = 0;

function animate() {
  time += 0.05;
  canvas.clear();

  // Rainbow effect on title
  const r = Math.sin(time) * 127 + 128;
  const g = Math.sin(time + 2) * 127 + 128;
  const b = Math.sin(time + 4) * 127 + 128;

  const animTitle = new TVG.Text();
  animTitle.font('default')
    .text('ThorVG Canvas Kit')
    .fontSize(48)
    .fill(r, g, b)
    .outline(2, 0, 0, 0)
    .align({ horizontal: 'center', vertical: 'middle' })
    .translate(300, 150);

  // Pulsing subtitle
  const scale = 1 + Math.sin(time * 2) * 0.1;
  const animSubtitle = new TVG.Text();
  animSubtitle.font('default')
    .text('High-Performance Vector Graphics')
    .fontSize(24 * scale)
    .fill(100, 200, 255)
    .align({ horizontal: 'center', vertical: 'middle' })
    .translate(300, 220);

  // Rotating text
  const rotatingText = new TVG.Text();
  rotatingText.font('default')
    .text('Animated!')
    .fontSize(32)
    .fill(255, 200, 100)
    .align({ horizontal: 'center', vertical: 'middle' })
    .translate(300, 300)
    .rotate(time * 20);

  // Wave effect text
  const waveText = 'WAVE EFFECT';
  for (let i = 0; i < waveText.length; i++) {
    const char = new TVG.Text();
    const yOffset = Math.sin(time * 2 + i * 0.5) * 20;
    const charColor = Math.sin(time + i * 0.3) * 127 + 128;

    char.font('default')
      .text(waveText[i])
      .fontSize(28)
      .fill(charColor, 150, 255 - charColor)
      .align({ horizontal: 'center', vertical: 'middle' })
      .translate(150 + i * 30, 400 + yOffset);

    canvas.add(char);
  }

  canvas.add(animTitle, animSubtitle, rotatingText);
  canvas.render();

  requestAnimationFrame(animate);
}

animate();
`
};
